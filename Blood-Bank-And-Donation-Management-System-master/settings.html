<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Settings â€” Blood Donation Management</title>
  <link rel="stylesheet" href="css/styles.css" />
</head>
<body>
  <div class="container">
    <header class="header-wrap"><div class="brand"><div class="logo"><img src="logoblood.webp" alt="logo" style="width:56px;height:56px;border-radius:8px;object-fit:contain"/></div><div class="site-title"><h1>Settings</h1><div class="subtitle">Local preferences</div></div></div>
      <nav class="nav"><a class="btn" href="index.html">Home</a><a class="btn" href="donors.html">Donors</a><a class="btn" href="add-donor.html">Add Donor</a><a class="btn" href="request-blood.html">Request Blood</a></nav>
    </header>

    <main class="card">
      <h3>Settings</h3>
      <div style="margin-top:8px"><label>Donation minimum interval (days)</label><input id="minInterval" type="number" value="90" /></div>
      <div style="margin-top:12px;display:flex;gap:8px"><button class="btn primary" id="saveSettings">Save</button><button class="btn" id="resetSettings">Reset</button></div>
    </main>

    <footer class="footer"><small>&copy; <span id="year"></span></small></footer>
  </div>
  <script src="js/main.js"></script>
  <script>
    document.getElementById('year').textContent=new Date().getFullYear();
    const KEY = 'bbms_settings';
    function load(){ try{return JSON.parse(localStorage.getItem(KEY))||{}}catch(e){return {}} }
    function save(obj){ localStorage.setItem(KEY, JSON.stringify(obj)); }
    const s=load(); if(s.minInterval) document.getElementById('minInterval').value=s.minInterval;
    document.getElementById('saveSettings').addEventListener('click', ()=>{ save({minInterval: parseInt(document.getElementById('minInterval').value,10)||90}); showToast('Settings saved'); });
    document.getElementById('resetSettings').addEventListener('click', ()=>{ localStorage.removeItem(KEY); showToast('Settings reset'); });
  </script>
</body>
</html>
